function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(2, 1);
lhs = NaN(54, 1);
rhs = NaN(54, 1);
T(1) = params(1)/params(2);
T(2) = params(15)/(1-T(1));
lhs(1) = y(55);
rhs(1) = params(38)*y(109)+(1-params(38))*y(1)-params(39)*(y(56)-y(111)-y(87));
lhs(2) = y(58);
rhs(2) = params(40)*y(4)+(1-params(40))*y(112)+params(41)*y(59)+y(88);
lhs(3) = y(59);
rhs(3) = params(42)*y(114)-(y(56)-y(111)-y(87))+(1-params(42))*y(113);
lhs(4) = y(61);
rhs(4) = y(55)*params(23)+y(58)*params(24)+params(25)*y(62)+y(89);
lhs(5) = y(61);
rhs(5) = params(6)*(params(7)*y(63)+(1-params(7))*y(64)+y(90));
lhs(6) = y(57)-params(8)*y(3);
rhs(6) = params(43)*(y(111)-y(57)*params(8))-params(44)*(100*y(91)-y(65));
lhs(7) = y(65);
rhs(7) = (1-params(7))*y(66)+params(7)*y(60)-y(90);
lhs(8) = y(57)+y(66)-y(12);
rhs(8) = y(3)*params(11)+params(3)*(y(111)+y(120)-y(66)-y(57)*params(11))-params(45)*(params(14)*y(68)-100*y(93));
lhs(9) = params(14)*y(68);
rhs(9) = y(66)-(y(67)+y(92)+params(14)*y(69));
lhs(10) = params(14)*y(70);
rhs(10) = 100*y(93);
lhs(11) = y(71);
rhs(11) = y(68)+y(69);
lhs(12) = y(67);
rhs(12) = (1-params(15))*y(13)+T(2)*(y(55)-y(1)*T(1));
lhs(13) = y(72);
rhs(13) = params(46)*y(18)+y(58)*(1-params(46))+y(88)*params(47);
lhs(14) = y(63);
rhs(14) = y(62)+y(18);
lhs(15) = y(62);
rhs(15) = y(60)*(1-params(16))/params(16);
lhs(16) = y(63);
rhs(16) = y(64)+y(66)-y(60);
lhs(17) = y(56);
rhs(17) = params(17)*y(2)+(1-params(17))*(y(57)*params(18)+params(19)*y(73)+params(20)*(y(73)-y(19)))-y(94);
lhs(18) = y(69)-y(15);
rhs(18) = params(3)*(y(123)-y(69))+params(48)*(y(64)-y(69));
lhs(19) = y(74);
rhs(19) = params(38)*y(128)+(1-params(38))*y(20)-params(39)*(y(75)-y(87));
lhs(20) = y(76);
rhs(20) = y(88)+params(40)*y(22)+(1-params(40))*y(130)+params(41)*y(77);
lhs(21) = y(77);
rhs(21) = params(42)*y(132)-(y(75)-y(87))+(1-params(42))*y(131);
lhs(22) = y(86);
rhs(22) = y(89)+params(23)*y(74)+params(24)*y(76)+params(25)*y(79);
lhs(23) = y(86);
rhs(23) = params(6)*(y(90)+params(7)*y(80)+(1-params(7))*y(81));
lhs(24) = 0;
rhs(24) = (1-params(7))*y(82)+params(7)*y(78)-y(90);
lhs(25) = y(82);
rhs(25) = y(92)+y(83)+params(14)*y(81);
lhs(26) = y(83);
rhs(26) = (1-params(15))*y(29)+T(2)*(y(74)-T(1)*y(20));
lhs(27) = y(85);
rhs(27) = y(88)*params(47)+params(46)*y(31)+(1-params(46))*y(76);
lhs(28) = y(80);
rhs(28) = y(79)+y(31);
lhs(29) = y(79);
rhs(29) = (1-params(16))/params(16)*y(78);
lhs(30) = y(80);
rhs(30) = y(81)+y(82)-y(78);
lhs(31) = y(84)-y(30);
rhs(31) = params(3)*(y(138)-y(84))+params(48)*(y(81)-y(84));
lhs(32) = y(73);
rhs(32) = y(61)-y(86);
lhs(33) = y(87);
rhs(33) = params(49)*y(33)+x(1);
lhs(34) = y(88);
rhs(34) = params(50)*y(34)+x(2);
lhs(35) = y(89);
rhs(35) = params(51)*y(35)+x(3)+params(53)*x(4);
lhs(36) = y(90);
rhs(36) = x(4)+params(52)*y(36);
lhs(37) = y(91);
rhs(37) = params(54)*y(37)+x(5)-params(55)*y(53);
lhs(38) = y(94);
rhs(38) = params(59)*y(40)+x(8);
lhs(39) = y(92);
rhs(39) = params(56)*y(38)+x(6);
lhs(40) = y(93);
rhs(40) = params(57)*y(39)+x(7)-params(58)*y(54);
lhs(41) = y(95);
rhs(41) = y(61)+params(28)+params(33)-y(7);
lhs(42) = y(96);
rhs(42) = y(55)+params(28)+params(33)-y(1);
lhs(43) = y(97);
rhs(43) = y(58)+params(28)+params(33)-y(4);
lhs(44) = y(98);
rhs(44) = y(57)+params(30);
lhs(45) = y(99)-y(98);
rhs(45) = y(66)+params(28)-y(12)-(y(57)-y(3));
lhs(46) = y(100);
rhs(46) = y(69)+params(33)-y(15);
lhs(47) = y(101);
rhs(47) = y(68)+params(32);
lhs(48) = y(102);
rhs(48) = 4*params(31)+y(56)*4;
lhs(49) = y(103);
rhs(49) = y(56)*4;
lhs(50) = y(104);
rhs(50) = y(57)+y(3)+y(51)+y(52);
lhs(51) = y(105);
rhs(51) = y(3);
lhs(52) = y(106);
rhs(52) = y(51);
lhs(53) = y(107);
rhs(53) = x(5);
lhs(54) = y(108);
rhs(54) = x(7);
end
